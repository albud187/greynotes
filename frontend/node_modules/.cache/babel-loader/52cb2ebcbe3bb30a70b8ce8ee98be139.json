{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{connect}from\"react-redux\";import{Checkbox}from'antd';import TextNotes from'../components/TextNotes.js';import{Link}from'react-router-dom';function checkArchived(entry){return!entry['archived'];}var TextNoteListView=/*#__PURE__*/function(_React$Component){_inherits(TextNoteListView,_React$Component);var _super=_createSuper(TextNoteListView);function TextNoteListView(){var _this;_classCallCheck(this,TextNoteListView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={active_text_notes:[],all_text_notes:[],text_archive_display:false};_this.fetchAllTextNotes=function(){axios.get(\"http://127.0.0.1:8000/api/text_notes_by_user/?token=\".concat(localStorage['token'])).then(function(res){_this.setState({all_text_notes:res.data});console.log(res.data);});};_this.fetchActiveTextNotes=function(){axios.get(\"http://127.0.0.1:8000/api/text_notes_by_user/?token=\".concat(localStorage['token'])).then(function(res){_this.setState({active_text_notes:res.data.filter(checkArchived)});console.log(res.data);});};_this.changeTextArchiveDisplay=function(event){var status=_this.state.text_archive_display;_this.setState({text_archive_display:!status});console.log(status);};return _this;}_createClass(TextNoteListView,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchAllTextNotes();this.fetchActiveTextNotes();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\" TextNoteListView.js\"),/*#__PURE__*/React.createElement(\"h1\",null,/*#__PURE__*/React.createElement(Checkbox,{checked:this.state.text_archive_display,onChange:function onChange(event){return _this2.changeTextArchiveDisplay(event);}},\"Display Archived Text Notes\")),/*#__PURE__*/React.createElement(\"p\",null,\" add visual fx on new note button \"),/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(Link,{to:\"/create_note\"},\"New Note\")),this.state.text_archive_display?/*#__PURE__*/React.createElement(TextNotes,{data:this.state.all_text_notes}):/*#__PURE__*/React.createElement(TextNotes,{data:this.state.active_text_notes}));}}]);return TextNoteListView;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{token:state.token};};export default connect(mapStateToProps)(TextNoteListView);","map":{"version":3,"sources":["C:/Users/alfab/Documents/_Projects/greynotes/frontend/src/containers/TextNoteListView.js"],"names":["React","axios","connect","Checkbox","TextNotes","Link","checkArchived","entry","TextNoteListView","state","active_text_notes","all_text_notes","text_archive_display","fetchAllTextNotes","get","localStorage","then","res","setState","data","console","log","fetchActiveTextNotes","filter","changeTextArchiveDisplay","event","status","Component","mapStateToProps","token"],"mappings":"4sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,QAAT,KAAyB,MAAzB,CAEA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CAEA,QAASC,CAAAA,aAAT,CAAuBC,KAAvB,CAA6B,CAC3B,MAAO,CAACA,KAAK,CAAC,UAAD,CAAb,CACD,C,GAEKC,CAAAA,gB,+WAEJC,K,CAAO,CACLC,iBAAiB,CAAE,EADd,CAELC,cAAc,CAAC,EAFV,CAGLC,oBAAoB,CAAC,KAHhB,C,OAOPC,iB,CAAoB,UAAM,CACxBZ,KAAK,CAACa,GAAN,+DAAiEC,YAAY,CAAC,OAAD,CAA7E,GAA0FC,IAA1F,CAA+F,SAAAC,GAAG,CAAI,CACpG,MAAKC,QAAL,CAAc,CACZP,cAAc,CAAEM,GAAG,CAACE,IADR,CAAd,EAGAC,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB,EACD,CALD,EAMD,C,OAEDG,oB,CAAuB,UAAM,CAC3BrB,KAAK,CAACa,GAAN,+DAAiEC,YAAY,CAAC,OAAD,CAA7E,GAA0FC,IAA1F,CAA+F,SAAAC,GAAG,CAAI,CACpG,MAAKC,QAAL,CAAc,CACZR,iBAAiB,CAAEO,GAAG,CAACE,IAAJ,CAASI,MAAT,CAAgBjB,aAAhB,CADP,CAAd,EAGAc,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACE,IAAhB,EACD,CALD,EAMD,C,OAEDK,wB,CAA2B,SAACC,KAAD,CAAW,CACpC,GAAMC,CAAAA,MAAM,CAAG,MAAKjB,KAAL,CAAWG,oBAA1B,CACA,MAAKM,QAAL,CAAc,CACZN,oBAAoB,CAAE,CAACc,MADX,CAAd,EAGAN,OAAO,CAACC,GAAR,CAAYK,MAAZ,EACD,C,yGAEmB,CAClB,KAAKb,iBAAL,GACA,KAAKS,oBAAL,GACD,C,uCAEO,iBACN,mBACE,4CACA,qDADA,cAEE,2CAEE,oBAAC,QAAD,EACA,OAAO,CAAE,KAAKb,KAAL,CAAWG,oBADpB,CAEA,QAAQ,CAAI,kBAACa,KAAD,QAAS,CAAA,MAAI,CAACD,wBAAL,CAA8BC,KAA9B,CAAT,EAFZ,gCAFF,CAFF,cAcA,kEAdA,cAgBA,2CAAI,oBAAC,IAAD,EAAM,EAAE,CAAC,cAAT,aAAJ,CAhBA,CAkBC,KAAKhB,KAAL,CAAWG,oBAAX,cACC,oBAAC,SAAD,EAAW,IAAI,CAAG,KAAKH,KAAL,CAAWE,cAA7B,EADD,cAGC,oBAAC,SAAD,EAAW,IAAI,CAAG,KAAKF,KAAL,CAAWC,iBAA7B,EArBF,CADF,CA4BD,C,8BArE4BV,KAAK,CAAC2B,S,EAwErC,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAnB,KAAK,CAAI,CAC/B,MAAO,CACLoB,KAAK,CAAEpB,KAAK,CAACoB,KADR,CAAP,CAGD,CAJD,CAMA,cAAe3B,CAAAA,OAAO,CAAC0B,eAAD,CAAP,CAA0BpB,gBAA1B,CAAf","sourcesContent":["import React from 'react'\r\nimport axios from 'axios';\r\nimport { connect } from \"react-redux\";\r\nimport { Checkbox } from 'antd';\r\n\r\nimport TextNotes from '../components/TextNotes.js'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction checkArchived(entry){\r\n  return(!entry['archived'])\r\n}\r\n\r\nclass TextNoteListView extends React.Component{\r\n\r\n  state ={\r\n    active_text_notes: [],\r\n    all_text_notes:[],\r\n    text_archive_display:false,\r\n\r\n  }\r\n\r\n  fetchAllTextNotes = () => {\r\n    axios.get(`http://127.0.0.1:8000/api/text_notes_by_user/?token=${localStorage['token']}`).then(res => {\r\n      this.setState({\r\n        all_text_notes: res.data\r\n      });\r\n      console.log(res.data)\r\n    });\r\n  }\r\n\r\n  fetchActiveTextNotes = () => {\r\n    axios.get(`http://127.0.0.1:8000/api/text_notes_by_user/?token=${localStorage['token']}`).then(res => {\r\n      this.setState({\r\n        active_text_notes: res.data.filter(checkArchived)\r\n      });\r\n      console.log(res.data)\r\n    });\r\n  }\r\n\r\n  changeTextArchiveDisplay = (event) => {\r\n    const status = this.state.text_archive_display\r\n    this.setState({\r\n      text_archive_display: !status\r\n    })\r\n    console.log(status)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchAllTextNotes();\r\n    this.fetchActiveTextNotes();\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n      <h1> TextNoteListView.js</h1>\r\n        <h1>\r\n\r\n          <Checkbox\r\n          checked={this.state.text_archive_display}\r\n          onChange = {(event)=>this.changeTextArchiveDisplay(event)}\r\n          >\r\n          Display Archived Text Notes\r\n\r\n          </Checkbox>\r\n        </h1>\r\n\r\n\r\n      <p> add visual fx on new note button </p>\r\n\r\n      <h2><Link to=\"/create_note\">New Note</Link></h2>\r\n\r\n      {this.state.text_archive_display ?\r\n        <TextNotes data ={this.state.all_text_notes}/>\r\n        :\r\n        <TextNotes data ={this.state.active_text_notes}/>\r\n      }\r\n\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    token: state.token\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps) (TextNoteListView)\r\n"]},"metadata":{},"sourceType":"module"}