{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import{Component}from'react';import{Link}from'react-router-dom';import axios from'axios';import TextNotes from'./TextNotes.js';import ListNotes from'./ListNotes.js';import NoteGroupCreate from'../forms/NoteGroupCreate.js';import NoteGroupDelete from'../forms/NoteGroupDelete.js';import NoteGroupEdit from'../forms/NoteGroupEdit.js';import*as API_PATHS from'../api_path.js';var API_PATH=API_PATHS.API_PATH;var FilterTextNotes=/*#__PURE__*/function(_Component){_inherits(FilterTextNotes,_Component);var _super=_createSuper(FilterTextNotes);function FilterTextNotes(){var _this;_classCallCheck(this,FilterTextNotes);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={note_groups:[],filtered_notes:[],filtered_lists:[],userid:''};_this.fetchNoteGroups=function(){axios.get(\"http://127.0.0.1:8000/api/notegroups_by_user?token=\"+localStorage['token']).then(function(result){_this.setState({note_groups:result.data});console.log(result.data);});};_this.fetchUserId=function(){axios.get(\"http://127.0.0.1:8000/api/Tokens/\".concat(localStorage['token'],\"/\")).then(function(result){_this.setState({userid:result.data.user});});};_this.HandleTextNoteFilterSubmit=function(event){event.preventDefault();var groupname=event.target.elements.notegroup.value;console.log(groupname);axios.get('http://127.0.0.1:8000/api/query_list_notes'+'?groupname='+groupname+'&userid='+_this.state.userid,{groupname:groupname}).then(function(res){_this.setState({filtered_lists:res.data});console.log(\"result is \"+_this.state.filtered_lists);});axios.get('http://127.0.0.1:8000/api/query_text_notes'+'?groupname='+groupname+'&userid='+_this.state.userid,{groupname:groupname}).then(function(res){_this.setState({filtered_notes:res.data});console.log(\"result is \"+_this.state.filtered_notes);});};return _this;}_createClass(FilterTextNotes,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchUserId();this.fetchNoteGroups();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(NoteGroupCreate,null),/*#__PURE__*/React.createElement(NoteGroupDelete,null),/*#__PURE__*/React.createElement(NoteGroupEdit,null),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){return _this2.HandleTextNoteFilterSubmit(event);}},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"notegroup\"},\"Filter \"),/*#__PURE__*/React.createElement(\"select\",{name:\"notegroup\",id:\"notegroup\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"ALL\"),this.state.note_groups.map(function(val){return/*#__PURE__*/React.createElement(\"option\",{value:val.group_name},val.group_name);})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Filter\"),/*#__PURE__*/React.createElement(\"h1\",null,\" Text Notes \",/*#__PURE__*/React.createElement(Link,{to:\"/create_note\"},\"(New Text Note)\"),\" \"),/*#__PURE__*/React.createElement(TextNotes,{data:this.state.filtered_notes}),/*#__PURE__*/React.createElement(\"h1\",null,\" List Notes \",/*#__PURE__*/React.createElement(Link,{to:\"/create_list\"},\"(New List Note)\"),\" \"),/*#__PURE__*/React.createElement(ListNotes,{data:this.state.filtered_lists})));}}]);return FilterTextNotes;}(Component);export default FilterTextNotes;","map":{"version":3,"sources":["C:/Users/alfab/Documents/_Projects/greynotes/frontend/src/components/FilterTextNotes.js"],"names":["React","Component","Link","axios","TextNotes","ListNotes","NoteGroupCreate","NoteGroupDelete","NoteGroupEdit","API_PATHS","API_PATH","FilterTextNotes","state","note_groups","filtered_notes","filtered_lists","userid","fetchNoteGroups","get","localStorage","then","result","setState","data","console","log","fetchUserId","user","HandleTextNoteFilterSubmit","event","preventDefault","groupname","target","elements","notegroup","value","res","map","val","group_name"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Component } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios';\r\nimport TextNotes from './TextNotes.js'\r\nimport ListNotes from './ListNotes.js'\r\nimport NoteGroupCreate from '../forms/NoteGroupCreate.js'\r\nimport NoteGroupDelete from '../forms/NoteGroupDelete.js'\r\nimport NoteGroupEdit from '../forms/NoteGroupEdit.js'\r\n\r\nimport * as API_PATHS from '../api_path.js'\r\nconst API_PATH = API_PATHS.API_PATH\r\n\r\nclass FilterTextNotes extends Component {\r\n\r\n  state ={\r\n    note_groups: [],\r\n    filtered_notes: [],\r\n    filtered_lists: [],\r\n    userid:''\r\n\r\n  }\r\n\r\n  fetchNoteGroups = () => {\r\n    axios.get(\"http://127.0.0.1:8000/api/notegroups_by_user?token=\"+localStorage['token']).then(result => {\r\n      this.setState({\r\n        note_groups: result.data\r\n      });\r\n      console.log(result.data)\r\n    });\r\n  }\r\n\r\n  fetchUserId = () => {\r\n    axios.get(`http://127.0.0.1:8000/api/Tokens/${localStorage['token']}/`).then(result=>{\r\n      this.setState({\r\n        userid:result.data.user\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchUserId();\r\n    this.fetchNoteGroups();\r\n  }\r\n\r\n  HandleTextNoteFilterSubmit = (event)=>{\r\n    event.preventDefault()\r\n    const groupname = event.target.elements.notegroup.value;\r\n    console.log(groupname);\r\n\r\n    axios.get('http://127.0.0.1:8000/api/query_list_notes'+\r\n    '?groupname='+groupname +'&userid='+this.state.userid, {\r\n      groupname: groupname\r\n    })\r\n    .then(res => {\r\n    this.setState({\r\n      filtered_lists: res.data\r\n    });\r\n    console.log(\"result is \" + this.state.filtered_lists)\r\n  });\r\n\r\n    axios.get('http://127.0.0.1:8000/api/query_text_notes'+\r\n    '?groupname='+groupname+'&userid='+this.state.userid, {\r\n      groupname: groupname\r\n    })\r\n    .then(res => {\r\n    this.setState({\r\n      filtered_notes: res.data\r\n    });\r\n    console.log(\"result is \" + this.state.filtered_notes)\r\n  });\r\n  }\r\n\r\nrender(){\r\n  return (\r\n      <div>\r\n      <NoteGroupCreate />\r\n      <NoteGroupDelete />\r\n      <NoteGroupEdit />\r\n    <form  onSubmit={(event)=>this.HandleTextNoteFilterSubmit(event)}>\r\n    <label htmlFor=\"notegroup\">Filter </label>\r\n      <select name=\"notegroup\" id=\"notegroup\">\r\n      <option value=\"\">ALL</option>\r\n      {this.state.note_groups.map((val)=>(\r\n        <option value={val.group_name}>{val.group_name}</option>\r\n      ))}\r\n\r\n      </select>\r\n\r\n\r\n      <button type=\"submit\">Filter</button>\r\n      <h1> Text Notes <Link to=\"/create_note\">(New Text Note)</Link> </h1>\r\n      <TextNotes data ={this.state.filtered_notes}/>\r\n      <h1> List Notes <Link to=\"/create_list\">(New List Note)</Link> </h1>\r\n      <ListNotes data = {this.state.filtered_lists}/>\r\n      </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default FilterTextNotes\r\n"]},"metadata":{},"sourceType":"module"}