{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\alfab\\\\Documents\\\\_Projects\\\\greynotes\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import*as API_PATHS from'../api_path.js';var API_PATH=API_PATHS.API_PATH;var TextNoteCreate=/*#__PURE__*/function(_React$Component){_inherits(TextNoteCreate,_React$Component);var _super=_createSuper(TextNoteCreate);function TextNoteCreate(){var _this;_classCallCheck(this,TextNoteCreate);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={note_groups:[],userid:''};_this.fetchNoteGroups=function(){axios.get(\"http://127.0.0.1:8000/api/notegroups_by_user?token=\"+localStorage['token']).then(function(result){_this.setState({note_groups:result.data});console.log(result.data);});};_this.fetchUserId=function(){axios.get(\"http://127.0.0.1:8000/api/Tokens/\".concat(localStorage['token'],\"/\")).then(function(result){_this.setState({userid:result.data.user});});};_this.handleFormSubmit=function(event){event.preventDefault();var title=event.target.elements.title.value;var content=event.target.elements.content.value;var notegroup=event.target.elements.notegroup.value;console.log(title,content);axios.post('http://127.0.0.1:8000/api/TextNotes/',{title:title,content:content,note_group:notegroup,author:_this.state.userid}).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});_this.props.history.push('text_note_list');};return _this;}_createClass(TextNoteCreate,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchUserId();this.fetchNoteGroups();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"New Text Note\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(event){return _this2.handleFormSubmit(event);}},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Title\")),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"1\",cols:\"50\",name:\"title\",placeholder:\"title\"}),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"strong\",null,\"Content\")),/*#__PURE__*/React.createElement(\"textarea\",{rows:\"9\",cols:\"50\",name:\"content\",placeholder:\"content\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",{for:\"notegroup\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Note Group: \")),/*#__PURE__*/React.createElement(\"select\",{name:\"notegroup\",id:\"notegroup\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"_ungrouped_\"),this.state.note_groups.map(function(val){return/*#__PURE__*/React.createElement(\"option\",{value:val.id},val.group_name);})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Submit\")));}}]);return TextNoteCreate;}(React.Component);export default TextNoteCreate;","map":{"version":3,"sources":["C:/Users/alfab/Documents/_Projects/greynotes/frontend/src/forms/TextNoteCreate.js"],"names":["React","axios","API_PATHS","API_PATH","TextNoteCreate","state","note_groups","userid","fetchNoteGroups","get","localStorage","then","result","setState","data","console","log","fetchUserId","user","handleFormSubmit","event","preventDefault","title","target","elements","value","content","notegroup","post","note_group","author","res","catch","err","props","history","push","map","val","id","group_name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport * as API_PATHS from '../api_path.js'\r\nconst API_PATH = API_PATHS.API_PATH\r\n\r\nclass TextNoteCreate extends React.Component {\r\n  state ={\r\n    note_groups: [],\r\n    userid:''\r\n  }\r\n\r\n  fetchNoteGroups = () => {\r\n    axios.get(\"http://127.0.0.1:8000/api/notegroups_by_user?token=\"+localStorage['token']).then(result => {\r\n      this.setState({\r\n        note_groups: result.data\r\n      });\r\n      console.log(result.data)\r\n    });\r\n  }\r\n\r\n  fetchUserId = () => {\r\n    axios.get(`http://127.0.0.1:8000/api/Tokens/${localStorage['token']}/`).then(result=>{\r\n      this.setState({\r\n        userid:result.data.user\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchUserId();\r\n    this.fetchNoteGroups();\r\n  }\r\n\r\n  handleFormSubmit = (event)=>{\r\n    event.preventDefault()\r\n    const title = event.target.elements.title.value;\r\n    const content = event.target.elements.content.value;\r\n    const notegroup = event.target.elements.notegroup.value\r\n    console.log(title,content);\r\n    axios.post('http://127.0.0.1:8000/api/TextNotes/', {\r\n      title: title,\r\n      content: content,\r\n      note_group: notegroup,\r\n      author: this.state.userid\r\n    })\r\n      .then(res=>console.log(res))\r\n      .catch(err=>console.log(err));\r\n      this.props.history.push('text_note_list')\r\n\r\n\r\n  }\r\n\r\nrender(){\r\n  return (\r\n      <div>\r\n      <h1>New Text Note</h1>\r\n        <form onSubmit={(event)=>this.handleFormSubmit(event)}>\r\n          <p><strong>Title</strong></p>\r\n              <textarea rows=\"1\" cols=\"50\" name=\"title\" placeholder=\"title\"/>\r\n          <p><strong>Content</strong></p>\r\n              <textarea rows=\"9\" cols=\"50\" name=\"content\" placeholder=\"content\" />\r\n              <br></br>\r\n          <label for=\"notegroup\"><strong>Note Group: </strong></label>\r\n            <select name=\"notegroup\" id=\"notegroup\">\r\n            <option value=\"\">_ungrouped_</option>\r\n            {this.state.note_groups.map((val)=>(\r\n              <option value={val.id}>{val.group_name}</option>\r\n            ))}\r\n\r\n            </select>\r\n\r\n            <br></br>\r\n            <br></br>\r\n            <button type=\"submit\">Submit</button>\r\n\r\n        </form>\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TextNoteCreate;\r\n"]},"metadata":{},"sourceType":"module"}