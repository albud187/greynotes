{"ast":null,"code":"import*as actionTypes from'../actions/actionTypes';import{updateObject}from'../utility';var initialState={token:null,error:null,loading:false};var authStart=function authStart(state,action){return updateObject(state,{error:null,loading:true});};var authSuccess=function authSuccess(state,action){window.location.replace('/');return updateObject(state,{token:action.token,error:null,loading:false});};var authFail=function authFail(state,action){return updateObject(state,{error:action.error,loading:false});};var authLogout=function authLogout(state,action){window.location.reload(true);window.location.replace('/');return updateObject(state,{token:null});};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionTypes.AUTH_START:return authStart(state,action);case actionTypes.AUTH_SUCCESS:return authSuccess(state,action);case actionTypes.AUTH_FAIL:return authFail(state,action);case actionTypes.AUTH_LOGOUT:return authLogout(state,action);default:return state;}};export default reducer;","map":{"version":3,"sources":["C:/Users/alfab/Documents/_Projects/greynotes/frontend/src/store/reducers/auth.js"],"names":["actionTypes","updateObject","initialState","token","error","loading","authStart","state","action","authSuccess","window","location","replace","authFail","authLogout","reload","reducer","type","AUTH_START","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,wBAA7B,CACA,OAASC,YAAT,KAA6B,YAA7B,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,KAAK,CAAE,IADU,CAEjBC,KAAK,CAAE,IAFU,CAGjBC,OAAO,CAAE,KAHQ,CAArB,CAMA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjC,MAAOP,CAAAA,YAAY,CAACM,KAAD,CAAQ,CACvBH,KAAK,CAAE,IADgB,CAEvBC,OAAO,CAAE,IAFc,CAAR,CAAnB,CAIH,CALD,CAOA,GAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACF,KAAD,CAAQC,MAAR,CAAmB,CACrCE,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,EACE,MAAOX,CAAAA,YAAY,CAACM,KAAD,CAAQ,CACvBJ,KAAK,CAAEK,MAAM,CAACL,KADS,CAEvBC,KAAK,CAAE,IAFgB,CAGvBC,OAAO,CAAE,KAHc,CAAR,CAAnB,CAKH,CAPD,CASA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACN,KAAD,CAAQC,MAAR,CAAmB,CAChC,MAAOP,CAAAA,YAAY,CAACM,KAAD,CAAQ,CACvBH,KAAK,CAAEI,MAAM,CAACJ,KADS,CAEvBC,OAAO,CAAE,KAFc,CAAR,CAAnB,CAIH,CALD,CAOA,GAAMS,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,KAAD,CAAQC,MAAR,CAAmB,CAClCE,MAAM,CAACC,QAAP,CAAgBI,MAAhB,CAAuB,IAAvB,EACAL,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB,EACA,MAAOX,CAAAA,YAAY,CAACM,KAAD,CAAQ,CACvBJ,KAAK,CAAE,IADgB,CAAR,CAAnB,CAIH,CAPD,CASA,GAAMa,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAgC,IAA/BT,CAAAA,KAA+B,2DAAzBL,YAAyB,IAAXM,CAAAA,MAAW,2CAC5C,OAAQA,MAAM,CAACS,IAAf,EACI,IAAKjB,CAAAA,WAAW,CAACkB,UAAjB,CAA6B,MAAOZ,CAAAA,SAAS,CAACC,KAAD,CAAQC,MAAR,CAAhB,CAC7B,IAAKR,CAAAA,WAAW,CAACmB,YAAjB,CAA+B,MAAOV,CAAAA,WAAW,CAACF,KAAD,CAAQC,MAAR,CAAlB,CAC/B,IAAKR,CAAAA,WAAW,CAACoB,SAAjB,CAA4B,MAAOP,CAAAA,QAAQ,CAACN,KAAD,CAAQC,MAAR,CAAf,CAC5B,IAAKR,CAAAA,WAAW,CAACqB,WAAjB,CAA8B,MAAOP,CAAAA,UAAU,CAACP,KAAD,CAAQC,MAAR,CAAjB,CAC9B,QACI,MAAOD,CAAAA,KAAP,CANR,CAQH,CATD,CAWA,cAAeS,CAAAA,OAAf","sourcesContent":["import * as actionTypes from '../actions/actionTypes';\nimport { updateObject } from '../utility';\n\nconst initialState = {\n    token: null,\n    error: null,\n    loading: false,\n}\n\nconst authStart = (state, action) => {\n    return updateObject(state, {\n        error: null,\n        loading: true\n    });\n}\n\nconst authSuccess = (state, action) => {\n  window.location.replace('/')\n    return updateObject(state, {\n        token: action.token,\n        error: null,\n        loading: false,\n    });\n}\n\nconst authFail = (state, action) => {\n    return updateObject(state, {\n        error: action.error,\n        loading: false\n    });\n}\n\nconst authLogout = (state, action) => {\n    window.location.reload(true)\n    window.location.replace('/')\n    return updateObject(state, {\n        token: null\n    });\n\n}\n\nconst reducer = (state=initialState, action) => {\n    switch (action.type) {\n        case actionTypes.AUTH_START: return authStart(state, action);\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state, action);\n        case actionTypes.AUTH_FAIL: return authFail(state, action);\n        case actionTypes.AUTH_LOGOUT: return authLogout(state, action);\n        default:\n            return state;\n    }\n}\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}